"use strict";(self.webpackChunkrck_docs=self.webpackChunkrck_docs||[]).push([[12],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return g}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=l(n),g=a,m=p["".concat(c,".").concat(g)]||p[g]||d[g]||o;return n?r.createElement(m,s(s({ref:t},u),{},{components:n})):r.createElement(m,s({ref:t},u))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=p;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var l=2;l<o;l++)s[l]=n[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},6504:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return i},metadata:function(){return c},toc:function(){return l},default:function(){return d}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),s={title:"Saving dialogue"},i=void 0,c={unversionedId:"advanced/saving-dialogue",id:"advanced/saving-dialogue",isDocsHomePage:!1,title:"Saving dialogue",description:"In order to save the chatbot dialogue you can choose to provide a save method and a load method to the chatbot as props:",source:"@site/docs/advanced/saving-dialogue.md",sourceDirName:"advanced",slug:"/advanced/saving-dialogue",permalink:"/react-chatbot-kit-docs/docs/advanced/saving-dialogue",tags:[],version:"current",frontMatter:{title:"Saving dialogue"},sidebar:"docs",previous:{title:"Customizing CSS",permalink:"/react-chatbot-kit-docs/docs/advanced/configuring-css"},next:{title:"Chatbot properties",permalink:"/react-chatbot-kit-docs/docs/advanced/chatbot-props"}},l=[{value:"Rendering static content",id:"rendering-static-content",children:[]}],u={toc:l};function d(e){var t=e.components,n=(0,a.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"In order to save the chatbot dialogue you can choose to provide a save method and a load method to the chatbot as props:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import React, { useState } from 'react';\nimport Chatbot from 'react-chatbot-kit';\nimport config from './config';\nimport actionProvider from './actionProvider.js';\nimport messageParser from './messageParser.js';\n\nfunction App() {\n  const [showBot, toggleBot] = useState(false);\n\n  const saveMessages = (messages, HTMLString) => {\n    localStorage.setItem('chat_messages', JSON.stringify(messages));\n  };\n\n  const loadMessages = () => {\n    const messages = JSON.parse(localStorage.getItem('chat_messages'));\n    return messages;\n  };\n\n  return (\n    <div className='App'>\n      {showBot && (\n        <Chatbot\n          config={config}\n          actionProvider={actionProvider}\n          messageHistory={loadMessages()}\n          messageParser={messageParser}\n          saveMessages={saveMessages}\n        />\n      )}\n      <button onClick={() => toggleBot((prev) => !prev)}>Bot</button>\n    </div>\n  );\n}\n\nexport default App;\n")),(0,o.kt)("h2",{id:"rendering-static-content"},"Rendering static content"),(0,o.kt)("p",null,"This will save the content of the state objects messages array and will load up the content when the chatbot is next mounted."),(0,o.kt)("p",null,"The saveMessages receives two inputs:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The messages array from state"),(0,o.kt)("li",{parentName:"ul"},"The HTML content of the chatbot messages container")),(0,o.kt)("p",null,"If you choose to save the HTML string and return the string from your loadMessages function, the content will be inserted as HTML instead of evaluating the array again when the chatbot loads (which may be counter intuitive if you have a lot of widget interactivity)."),(0,o.kt)("p",null,"NOTE: Keep in mind that saving the HTML will save the state exactly as it was when the chatbot was closed, and any interactivity will be lost."))}d.isMDXComponent=!0}}]);